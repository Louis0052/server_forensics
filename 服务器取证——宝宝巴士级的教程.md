# 服务器取证——宝宝巴士级的教程

###### 基于fic2024服务器取证部分



虚拟机仿真后查看到ip为192.168.8.112



关虚拟机后，将vmware中对应的网络连接方式的网段设置为对应网段，此处，子网192.168.8.0，子网掩码255.255.255.0，dhcp经典地分配1-254

这里不在虚拟机中将ip设置为与自己本机原有的网段对应，避免因为修改了ip而导致与后面的题目对应不上



重新打开虚拟机，此时可以通过浏览器访问到这个esxi服务器了



现在卡在 虚拟机无效 解决方法

[Vmware esxi虚拟主机状态变成“无效”或者“invalid”，各种选项都变成灰色,无法注销重启，且后台还能使用_esxi虚拟机状态无效-CSDN博客](https://blog.csdn.net/qq_42999045/article/details/129029703)

提到了挂载容器

 [Esxi添加存储的时候出现（未处理异常(1)）等问题的解决办法-流云溪|码农 (6om.com)](https://6om.com/3182)

[ESXi6.7 挂载VMFS数据存储 – 清昕感悟 (qx-fei.top)](https://qx-fei.top/?p=73#:~:text=ssh esxi　主机 通过命令 esxcfg-volume -l 查询所有vmfs分区,通过命令 esxcfg-volume -M (大写M) %2BVMFS分区UUID 完成挂载)

挂载后可以在存储看到刚刚挂载的文件，点击注册虚拟机

如上操作后可以查看到我们在火眼分析上看到的五个嵌套虚拟机

启动虚拟机，报错：不支持虚拟化的Intel VT-x/EPT，这一步可能不会报错，取决于本机的功能设置

[vmware提示此平台不支持虚拟化的Intel VT-x/EPT. 不使用虚拟化的Intel VT-x/EPT,是否继续？_此平台不支持虚拟化的 intel vt-x/ept。 不使用虚拟化的 intel vt-x/ept,-CSDN博客](https://blog.csdn.net/CCTVZHENG/article/details/131603241)



解决后再次尝试启动，发现有一台op1未启动成功，实际上这个op1并不是虚拟机，因为这个op1只有kb级的文件大小，并不影响。



commonpd.txt爆破服务器密码



可以直接在管理界面直接查看到ip

这一步先由计算机chrome的浏览记录查看到192.168.8.5的记录得出，同时也得到了账号密码



192.168.8.5对应易有云 openwrt



证据分析软件查找 192.168.8.

找到rocketchat的用户端口3000

在聊天频道内，可以确定三个嫌疑人的邮箱等个人信息、技术维护网站、分成占比以及收网时间

用户数3



在www服务器中通过命令bt查看宝塔面板，进行查看面板入口、修改管理密码等操作，后续通过宝塔web界面进一步操作



宝塔面板查看到配置192.168.8.142 data服务器mysql数据库，但是无法连接

检查data的服务，mysql无法启动，启动docker发现有mysql容器，启动

navicat连接数据库查看信息



**最难点重构后台管理网站**

192.168.8.89仍然报错502，根据运维笔记，修改ruoyi jar包内的application-druid.yml application.yml配置，修改数据库内sys_job表

等待定时任务执行后可以正常加载后台管理

前面已经知道密码加密方式为bcrypt，在线加密一个密码，数据库中修改超级管理员的密码为刚才加密的密码，使用这个账号登录后台

